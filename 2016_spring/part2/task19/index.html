<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>task19 基础JavaScript练习（二）</title>
    <style type="text/css">
    li {
        display: inline-block;
        width: 50px;
        background-color: red;
        text-indent: -99999999999px;
        margin: 0 1px;
        line-height: 50px;
        padding: 0 1px;
    }
    
    li:hover {
        cursor: pointer;
    }
    
    ul {
        padding-left: 0;
    }
    </style>
</head>

<body>
    <div>
        <input type="text" placeholder="请输入数字" id="inputText">
        <input type="button" value="左侧入" id="inputLeftIn">
        <input type="button" value="右侧入" id="inputRightIn">
        <input type="button" value="左侧出" id="inputLeftOut">
        <input type="button" value="右侧出" id="inputRightOut">
    </div>
    <ul id="content"></ul>
    <script type="text/javascript">
    var txt = document.getElementById('inputText');
    var content = document.getElementById("content");
    

    //左进按钮
    function inputLeftIn() {
        var value = validNum();
        var liNum = content.childNodes.length;
        if (value != false){
            if(liNum<60) {
                var newItem = document.createElement("li");
                var textnode = document.createTextNode(value);
                newItem.appendChild(textnode);
                content.insertBefore(newItem, content.childNodes[0]);
                newItem.style.height = value + 'px';
                newItem.style.width = '8px';
                newItem.setAttribute('title', value);
            }else{
                alert("最多输入60个哦~");
            }
        }

    }
    //右进按钮
    function inputRightIn() {
        var value = validNum();
        var liNum = content.childNodes.length;
        if (value != false){
            if(liNum<60) {
            var newItem = document.createElement("li");
            var textnode = document.createTextNode(value);
            newItem.appendChild(textnode);
            content.appendChild(newItem);

            newItem.style.height = value + 'px';
            newItem.style.width = '8px';
            newItem.setAttribute('title', value);
            
            }else{
                alert("最多输入60个哦~");
            }
        }else{
            return false;
        }
    }
    
    //左出按钮
    function inputLeftOut() {
        alert("删除的最左侧节点： " + content.firstChild.innerHTML);
        content.removeChild(content.firstChild);
    }
    //右出按钮
    function inputRightOut() {
        alert("删除的最左侧节点： " + content.childNodes[content.childNodes.length - 1].innerHTML);
        content.removeChild(content.childNodes[content.childNodes.length - 1]);
    }
    //给已出现的Li都添加点击事件
    content.addEventListener("click", function(e) {
        content.removeChild(e.target);
    }, false)

    document.getElementById("inputLeftIn").addEventListener("click", inputLeftIn, false);
    document.getElementById("inputRightIn").addEventListener("click", inputRightIn, false);
    document.getElementById("inputLeftOut").addEventListener("click", inputLeftOut, false);
    document.getElementById("inputRightOut").addEventListener("click", inputRightOut, false);

    //过滤数字
    function validNum() {
        var num = parseInt(txt.value);
        if ((isNaN(num)) || (num < 10) || (num > 100)) {
            alert("请输入10-100的数字。");
            return false;
        } else {
            console.log("validNum");
            return num;
        }
    }
    </script>
</body>

</html>
